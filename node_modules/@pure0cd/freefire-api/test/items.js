const FreeFireAPI = require('../index');

async function testItems() {
    const targetUid = process.argv[2] || "12345678";
    console.log(`Starting Items Test for UID: ${targetUid}...`);

    const api = new FreeFireAPI();
    try {
        // await api.login(); - New Update 1.1.0:  Auto login is handled automatically with Default Creds.
        console.log(`Getting Player Items...`);
        const items = await api.getPlayerItems(targetUid);

        if (items) {
            console.log(`\n--- Summary ---`);
            console.log(`Outfit Items: ${items.outfit ? items.outfit.length : 0}`);

            if (items.weapons && items.weapons.shown_skins) {
                console.log(`Weapon Items: ${items.weapons.shown_skins.length}`);
            }

            if (items.skills && items.skills.equipped) {
                console.log(`Skills Equipped: ${items.skills.equipped.length}`);
                console.log(`Skills: ${items.skills.equipped.map(s => s.id).join(', ')}`);
            }

            if (items.pet) {
                console.log(`Pet Name: ${items.pet.name || "None"}`);
                if (items.pet.id) console.log(`Pet ID: ${items.pet.id.name || items.pet.id.id}`);
            } else {
                console.log(`Pet: None`);
            }

            if (items.outfit && items.outfit.length > 0) {
                console.log(`\n--- First 5 Outfits ---`);
                items.outfit.slice(0, 5).forEach(i => {
                    console.log(`- ${i.name || "Unknown"} (ID: ${i.id})`);
                });
            }

        } else {
            console.log("Items fetch failed or empty.");
        }

    } catch (e) {
        console.error("Items test failed:", e.message);
    }
}

testItems();
